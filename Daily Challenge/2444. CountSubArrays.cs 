//2444. Count Subarrays With Fixed Bounds
//26 April 2025

public class Solution {
    public long CountSubarrays(int[] nums, int minK, int maxK) {
        long count = 0;

        //sliding window approach

        //initialize 3 variables for tracking
        int start = -1, mini = -1, maxi = -1;

        for(int i=0; i<nums.Length; i++)
        {   
            if(nums[i] < minK || nums[i] > maxK) start = i;
            if(nums[i] == minK) mini = i;
            if(nums[i] == maxK) maxi = i;

            int pivot = Math.Min(mini, maxi) - start;
            int valid = Math.Max(0, pivot);
            count += valid;
        }

        return count;
    }
}